<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Chow Sim iOS 26 - Ultimate Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.263.1",
        "@google/genai": "https://esm.sh/@google/genai@1.40.0"
      }
    }
    </script>
    <style>
        ::-webkit-scrollbar { display: none; }
        body {
            background-color: #000;
            color: #fff;
            overscroll-behavior: none;
            touch-action: manipulation;
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            padding-bottom: env(safe-area-inset-bottom);
        }
        input { -webkit-user-select: text; user-select: text; outline: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(25px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .ios-shadow { box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.7); }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        .animate-float { animation: float 4s infinite ease-in-out; }
        .active-tab { color: #3b82f6; transform: scale(1.1); }
        .dead-screen { background: linear-gradient(to bottom, #000, #450a0a); }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import ReactDOM from 'react-dom';
        import * as Lucide from 'lucide-react';
        import { GoogleGenAI } from "@google/genai";

        // --- EXPANDED GAME DATA ---

        const THEME_COLORS = {
            copper: '#b87333', silver: '#c0c0c0', gold: '#ffd700', platinum: '#e5e4e2',
            emerald: '#50c878', ruby: '#e0115f', sapphire: '#0f52ba', amethyst: '#9966cc',
            diamond: '#b9f2ff', obsidian: '#282828', rainbow: 'linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)'
        };

        const IPHONES = Array.from({ length: 21 }, (_, i) => ({
            id: `ip-${i}`,
            name: i === 0 ? "iPhone Original" : `iPhone ${i + 1} Pro Max`,
            price: Math.floor(150 * (i + 1) * (1 + i * 0.25)),
            type: 'phone', brand: 'Apple'
        }));

        const SAMSUNGS = Array.from({ length: 10 }, (_, i) => ({
            id: `ss-${i}`,
            name: `Samsung Galaxy S${21 + i} Ultra`,
            price: 600 + (i * 450),
            type: 'phone', brand: 'Samsung'
        }));

        const CARS = Array.from({ length: 21 }, (_, i) => {
            const carNames = ["Bicycle", "Skateboard", "Rusty Sedan", "Old Vespa", "VW Golf", "Honda Civic", "BMW M3", "Tesla Model 3", "Audi RS6", "Porsche 911", "Mercedes G63", "Nissan GT-R", "Lambo Huracan", "Ferrari SF90", "McLaren P1", "Aston Martin DB11", "Rolls Royce", "Bugatti Chiron", "Koenigsegg Jesko", "Private Jet", "SpaceX Starship"];
            const colors = ["#444", "#222", "#8B4513", "#fbbf24", "#3b82f6", "#fff", "#111", "#fff", "#444", "#facc15", "#000", "#fff", "#fb7185", "#dc2626", "#ea580c", "#1e293b", "#000", "#1e40af", "#fff", "#fff", "#ccc"];
            return {
                id: `car-${i}`,
                name: carNames[i] || `Supercar V${i}`,
                price: i === 0 ? 100 : Math.floor(500 * Math.pow(1.95, i)),
                color: colors[i] || "#444"
            };
        });

        const HOUSES = Array.from({ length: 21 }, (_, i) => ({
            id: `h-${i}`,
            name: i === 0 ? "Parents' Sofa" : i < 5 ? `City Studio ${i}` : i < 15 ? `Suburban Villa ${i - 4}` : `Mega Mansion Level ${i - 14}`,
            price: i === 0 ? 0 : Math.floor(25000 * Math.pow(1.9, i)),
            rent: i === 0 ? 0 : Math.floor(200 * Math.pow(1.5, i))
        }));

        const CHAINS = Object.entries(THEME_COLORS).map(([name, color]) => ({
            id: `chain-${name}`, name: `${name.charAt(0).toUpperCase() + name.slice(1)} Chain`, color, price: 5000
        }));

        const RINGS = Object.entries(THEME_COLORS).map(([name, color]) => ({
            id: `ring-${name}`, name: `${name.charAt(0).toUpperCase() + name.slice(1)} Ring`, color, price: 2500
        }));

        const SUBJECTS = ['Mathematics', 'Quantum Physics', 'Genetic Biology', 'Organic Chemistry', 'Fine Arts', 'Music Composition', 'World History', 'Political Geography', 'Computer Science', 'Business Ethics', 'Philosophy', 'Space Law'];

        const INITIAL_STATE = {
            hasStarted: false,
            name: "New Player",
            gender: 'male',
            money: 500,
            age: 10,
            week: 1,
            health: 100,
            happiness: 100,
            isDead: false,
            education: {
                primary: 0, secondary: 0,
                subjects: SUBJECTS.reduce((acc, s) => ({ ...acc, [s]: 0 }), {})
            },
            assets: { house: HOUSES[0], car: null, chain: null, ring: null, phone: null },
            social: { followers: 0, likes: 0 },
            logs: []
        };

        // --- COMPONENTS ---

        const CharacterVisual = ({ state, scale = 1, showDetails = false }) => {
            const { gender, assets } = state;
            return React.createElement('div', { 
                className: `relative flex flex-col items-center justify-center py-10 transition-all duration-500`,
                style: { transform: `scale(${scale})` }
            }, 
                // Car behind
                assets.car && React.createElement('div', { 
                    className: "absolute -z-10 opacity-40 blur-[2px] translate-y-6"
                }, 
                    React.createElement('svg', { width: "220", height: "110", viewBox: "0 0 200 100" }, 
                        React.createElement('path', { d: "M10 80 L30 45 L170 45 L190 80 L195 95 L5 95 Z", fill: assets.car.color }),
                        React.createElement('circle', { cx: "45", cy: "90", r: "14", fill: "#111" }),
                        React.createElement('circle', { cx: "155", cy: "90", r: "14", fill: "#111" })
                    )
                ),
                // Character
                React.createElement('div', { className: "relative z-10 animate-float" },
                    // Head
                    React.createElement('div', { className: "w-20 h-20 bg-[#ffdbac] rounded-full relative z-30 shadow-xl" },
                        gender === 'female' ? 
                            React.createElement('div', { className: "absolute top-0 w-full h-10 bg-[#3e2723] rounded-t-full -mt-2" }) : 
                            React.createElement('div', { className: "absolute top-0 w-full h-3 bg-[#2d1a12] rounded-t-full" }),
                        React.createElement('div', { className: "flex justify-around mt-8 px-5" },
                            React.createElement('div', { className: "w-2.5 h-2.5 bg-black rounded-full" }),
                            React.createElement('div', { className: "w-2.5 h-2.5 bg-black rounded-full" })
                        )
                    ),
                    // Neck / Chain
                    React.createElement('div', { className: "w-5 h-4 bg-[#ffdbac] mx-auto relative z-20 -mt-1" },
                        assets.chain && React.createElement('div', { 
                            className: "absolute top-1 left-[-6px] right-[-6px] h-3 rounded-b-full border-b-[3px]",
                            style: { borderColor: assets.chain.color }
                        })
                    ),
                    // Torso
                    React.createElement('div', { className: "w-24 h-28 bg-zinc-50 rounded-t-3xl relative z-10 shadow-lg" },
                        // Arms
                        React.createElement('div', { className: "absolute -left-6 top-2 w-7 h-20 bg-[#ffdbac] rounded-full origin-top rotate-[20deg] flex flex-col items-center justify-end pb-2" },
                            assets.ring && React.createElement('div', { className: "w-4 h-1.5 rounded-full mb-1 shadow-sm", style: { backgroundColor: assets.ring.color } })
                        ),
                        React.createElement('div', { className: "absolute -right-7 top-2 w-7 h-20 bg-[#ffdbac] rounded-full origin-top -rotate-[25deg] flex flex-col items-center justify-end pb-4" },
                            assets.phone && React.createElement('div', { 
                                className: "w-10 h-16 bg-black rounded-xl border border-zinc-800 shadow-2xl flex items-center justify-center -rotate-15 mb-2 overflow-hidden"
                            }, React.createElement('div', { className: "w-full h-full bg-blue-500/20" }))
                        )
                    )
                ),
                showDetails && React.createElement('div', { className: "mt-4 text-center" },
                    React.createElement('div', { className: "font-black text-xs uppercase tracking-widest opacity-40" }, "Protocol Identity"),
                    React.createElement('div', { className: "text-xl font-black" }, state.name)
                )
            );
        };

        const ProgressBar = ({ value, max, color, icon: Icon }) => {
            return React.createElement('div', { className: "flex items-center gap-2 w-full" },
                Icon && React.createElement(Icon, { size: 14, className: "opacity-50" }),
                React.createElement('div', { className: "h-2.5 bg-zinc-900 rounded-full overflow-hidden flex-1 border border-white/5" },
                    React.createElement('div', { 
                        className: "h-full transition-all duration-700 ease-out", 
                        style: { width: `${Math.min(100, (value / max) * 100)}%`, backgroundColor: color }
                    })
                )
            );
        };

        // --- MAIN APP ---

        function App() {
            const [state, setState] = useState(() => {
                const saved = localStorage.getItem('chow_sim_u_v26');
                return saved ? JSON.parse(saved) : INITIAL_STATE;
            });
            const [view, setView] = useState('home');
            const [shopPage, setShopPage] = useState('iphones');
            const [phoneApp, setPhoneApp] = useState(null);
            const [aiQuery, setAiQuery] = useState('');
            const [aiResponse, setAiResponse] = useState('');
            const [isAiLoading, setIsAiLoading] = useState(false);

            useEffect(() => {
                localStorage.setItem('chow_sim_u_v26', JSON.stringify(state));
                if (!state.isDead && (state.health <= 0 || state.happiness <= 0)) {
                    setState(p => ({ ...p, isDead: true }));
                }
            }, [state]);

            const log = (msg, type = 'info') => {
                setState(p => ({ ...p, logs: [{ id: Date.now(), msg, type }, ...p.logs].slice(0, 5) }));
            };

            const tick = () => {
                if (state.isDead) return;
                setState(prev => ({
                    ...prev,
                    week: prev.week + 1 > 52 ? 1 : prev.week + 1,
                    age: prev.week + 1 > 52 ? prev.age + 1 : prev.age,
                    money: prev.money + (prev.age >= 18 ? 300 : 50),
                    health: Math.max(0, prev.health - (prev.age > 50 ? 2 : 1)),
                    happiness: Math.max(0, prev.happiness - 1)
                }));
            };

            const doEducation = (type, sub = null) => {
                if (state.isDead) return;
                setState(prev => {
                    let cost = 0, hMod = 0, hpMod = 0, mMod = 0;
                    let nextEdu = { ...prev.education };
                    if (type === 'primary') {
                        if (prev.education.primary >= 60) return prev;
                        nextEdu.primary += 1;
                        mMod = 10; hpMod = 2; hMod = 2;
                    } else if (type === 'secondary') {
                        if (prev.education.primary < 60) { log("Need primary first!", "error"); return prev; }
                        if (prev.education.secondary >= 60) return prev;
                        nextEdu.secondary += 1;
                        mMod = 10; hpMod = 2; hMod = 2;
                    } else if (type === 'subject') {
                        if (prev.education.secondary < 60) { log("Need secondary first!", "error"); return prev; }
                        nextEdu.subjects[sub] = (nextEdu.subjects[sub] || 0) + 1;
                        cost = 10; hpMod = -2; hMod = -2;
                    }
                    return {
                        ...prev,
                        money: prev.money + mMod - cost,
                        health: Math.min(100, Math.max(0, prev.health + hMod)),
                        happiness: Math.min(100, Math.max(0, prev.happiness + hpMod)),
                        education: nextEdu
                    };
                });
            };

            const buy = (cat, item) => {
                if (state.money < item.price) { log("No money!", "error"); return; }
                setState(p => ({
                    ...p, money: p.money - item.price, assets: { ...p.assets, [cat]: item }, happiness: Math.min(100, p.happiness + 10)
                }));
                log(`Bought ${item.name}!`, "success");
            };

            const handleAi = async () => {
                if (!aiQuery || isAiLoading) return;
                setIsAiLoading(true);
                setAiResponse("Connecting to Chow AI...");
                try {
                    const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
                    const response = await ai.models.generateContent({
                        model: 'gemini-3-flash-preview',
                        contents: aiQuery,
                        config: { systemInstruction: "You are Chow AI. Be brief." }
                    });
                    setAiResponse(response.text);
                } catch (err) { setAiResponse("Signal lost."); }
                setIsAiLoading(false);
            };

            if (state.isDead) {
                return React.createElement('div', { className: "min-h-screen flex flex-col items-center justify-center p-12 text-center dead-screen" },
                    React.createElement(Lucide.Skull, { size: 64, className: "text-red-500 mb-6" }),
                    React.createElement('h1', { className: "text-7xl font-black mb-2 tracking-tighter uppercase italic" }, "Wasted"),
                    React.createElement('p', { className: "text-zinc-500 font-bold mb-12" }, "Your vitality has reached absolute zero."),
                    React.createElement('button', { 
                        onClick: () => { localStorage.removeItem('chow_sim_u_v26'); window.location.reload(); },
                        className: "bg-white text-black px-12 py-5 rounded-2xl font-black text-xl active:scale-95"
                    }, "New Life")
                );
            }

            if (!state.hasStarted) {
                return React.createElement('div', { className: "min-h-screen bg-black flex flex-col items-center justify-center p-8" },
                    React.createElement('div', { className: "w-full max-w-sm glass p-10 rounded-[50px] text-center" },
                        React.createElement('h1', { className: "text-5xl font-black mb-1" }, "CHOW SIM"),
                        React.createElement('p', { className: "text-[10px] font-black uppercase tracking-[0.4em] text-blue-500 mb-10" }, "iOS 26 Ultimate"),
                        React.createElement('input', { 
                            className: "w-full bg-white/5 border border-white/10 p-6 rounded-3xl mb-4 font-bold text-center",
                            placeholder: "NAME", value: state.name, onChange: e => setState(p => ({...p, name: e.target.value}))
                        }),
                        React.createElement('button', { 
                            className: "w-full bg-blue-600 p-6 rounded-3xl font-black text-xl shadow-lg active:scale-95",
                            onClick: () => setState(p => ({...p, hasStarted: true}))
                        }, "Initialize")
                    )
                );
            }

            return React.createElement('div', { className: "min-h-screen flex flex-col" },
                // Header
                React.createElement('header', { className: "p-6 pt-14 glass border-b border-white/5" },
                    React.createElement('div', { className: "flex justify-between items-end mb-5" },
                        React.createElement('div', null,
                            React.createElement('h1', { className: "text-2xl font-black leading-none" }, state.name),
                            React.createElement('div', { className: "text-[10px] font-black opacity-40 uppercase tracking-widest mt-1" }, `Age ${state.age} / Week ${state.week}`)
                        ),
                        React.createElement('div', { className: "text-3xl font-black tabular-nums" }, `£${state.money.toLocaleString()}`)
                    ),
                    React.createElement('div', { className: "grid grid-cols-2 gap-6" },
                        React.createElement(ProgressBar, { value: state.health, max: 100, color: "#ef4444", icon: Lucide.Heart }),
                        React.createElement(ProgressBar, { value: state.happiness, max: 100, color: "#eab308", icon: Lucide.Smile })
                    )
                ),

                // Main Content
                React.createElement('main', { className: "flex-1 overflow-y-auto p-5 pb-44 no-scrollbar" },
                    view === 'home' && React.createElement('div', { className: "space-y-6" },
                        React.createElement('div', { className: "glass p-10 rounded-[60px] flex flex-col items-center border border-white/10" },
                            React.createElement(CharacterVisual, { state, scale: 1.5 })
                        ),
                        React.createElement('div', { className: "grid grid-cols-2 gap-4" },
                            React.createElement('button', { onClick: () => setView('darkweb'), className: "glass p-8 rounded-[40px] flex flex-col items-center gap-3 active:scale-95" },
                                React.createElement(Lucide.Skull, { size: 32, className: "text-red-500" }),
                                React.createElement('span', { className: "font-black text-[11px] uppercase" }, "Dark Web")
                            ),
                            React.createElement('button', { onClick: tick, className: "glass p-8 rounded-[40px] flex flex-col items-center gap-3 active:scale-95" },
                                React.createElement(Lucide.Plus, { size: 32, className: "text-blue-500" }),
                                React.createElement('span', { className: "font-black text-[11px] uppercase" }, "Next Week")
                            )
                        ),
                        state.logs.map(l => React.createElement('div', { key: l.id, className: "p-4 rounded-3xl glass text-xs font-bold" }, 
                            React.createElement('span', { className: l.type === 'error' ? 'text-red-500' : 'text-emerald-500' }, "▶ "), l.msg
                        ))
                    ),

                    view === 'darkweb' && React.createElement('div', { className: "space-y-6" },
                        React.createElement('button', { onClick: () => setView('home') }, React.createElement(Lucide.ArrowLeft)),
                        React.createElement('h2', { className: "text-4xl font-black" }, "Dark Web"),
                        ['Raid Server', 'Crypto Theft', 'Identity Sale'].map(op => React.createElement('button', { 
                            key: op, className: "glass p-7 rounded-[40px] w-full flex justify-between items-center" 
                        }, React.createElement('span', { className: "font-black" }, op), React.createElement('div', { className: "bg-red-600 text-[10px] px-4 py-1 rounded-full font-black" }, "HIGH RISK")))
                    ),

                    view === 'academy' && React.createElement('div', { className: "space-y-8" },
                        React.createElement('h2', { className: "text-4xl font-black" }, "Academy"),
                        React.createElement('div', { className: "glass p-8 rounded-[45px]" },
                            React.createElement('div', { className: "flex justify-between mb-2" }, React.createElement('span', { className: "font-black" }, "Primary"), React.createElement('span', null, `${state.education.primary}/60`)),
                            React.createElement(ProgressBar, { value: state.education.primary, max: 60, color: "#10b981" }),
                            React.createElement('button', { className: "w-full bg-white text-black font-black mt-4 py-4 rounded-3xl", onClick: () => doEducation('primary') }, "Study (+£10 / +Stats)")
                        ),
                        React.createElement('div', { className: "glass p-8 rounded-[45px]" },
                            React.createElement('div', { className: "flex justify-between mb-2" }, React.createElement('span', { className: "font-black" }, "Secondary"), React.createElement('span', null, `${state.education.secondary}/60`)),
                            React.createElement(ProgressBar, { value: state.education.secondary, max: 60, color: "#3b82f6" }),
                            React.createElement('button', { className: "w-full bg-white text-black font-black mt-4 py-4 rounded-3xl", onClick: () => doEducation('secondary') }, "Study (+£10 / +Stats)")
                        ),
                        React.createElement('div', { className: "grid grid-cols-2 gap-4" }, SUBJECTS.map(s => React.createElement('button', { 
                            key: s, onClick: () => doEducation('subject', s), className: "glass p-4 rounded-3xl text-left" 
                        }, React.createElement('div', { className: "font-black text-sm" }, s), React.createElement('div', { className: "text-[10px] text-red-500 font-black mt-1" }, "-£10 / -2 Stats"))))
                    ),

                    view === 'shop' && React.createElement('div', { className: "space-y-6" },
                        React.createElement('div', { className: "flex gap-2 overflow-x-auto pb-4" }, ['iphones', 'samsungs', 'cars', 'houses', 'chains', 'rings'].map(p => React.createElement('button', { 
                            key: p, onClick: () => setShopPage(p), className: `px-6 py-2 rounded-full font-black uppercase text-xs border ${shopPage === p ? 'bg-white text-black' : 'glass opacity-50'}` 
                        }, p))),
                        React.createElement('div', { className: "grid gap-4" },
                            shopPage === 'iphones' && IPHONES.map(i => React.createElement('button', { key: i.id, onClick: () => buy('phone', i), className: "glass p-6 rounded-[35px] flex justify-between" }, i.name, React.createElement('span', { className: "text-green-500 font-black" }, `£${i.price.toLocaleString()}`))),
                            shopPage === 'samsungs' && SAMSUNGS.map(i => React.createElement('button', { key: i.id, onClick: () => buy('phone', i), className: "glass p-6 rounded-[35px] flex justify-between" }, i.name, React.createElement('span', { className: "text-green-500 font-black" }, `£${i.price.toLocaleString()}`))),
                            shopPage === 'cars' && CARS.map(i => React.createElement('button', { key: i.id, onClick: () => buy('car', i), className: "glass p-6 rounded-[35px] flex justify-between" }, React.createElement('div', { className: "w-8 h-4 rounded", style: { backgroundColor: i.color } }), i.name, React.createElement('span', { className: "text-green-500 font-black" }, `£${i.price.toLocaleString()}`))),
                            shopPage === 'houses' && HOUSES.map(i => React.createElement('button', { key: i.id, onClick: () => buy('house', i), className: "glass p-6 rounded-[35px] flex justify-between" }, i.name, React.createElement('span', { className: "text-green-500 font-black" }, `£${i.price.toLocaleString()}`))),
                            shopPage === 'chains' && CHAINS.map(i => React.createElement('button', { key: i.id, onClick: () => buy('chain', i), className: "glass p-6 rounded-[35px] flex justify-between items-center" }, React.createElement('div', { className: "w-6 h-6 rounded-full", style: { background: i.color } }), i.name, `£${i.price}`)),
                            shopPage === 'rings' && RINGS.map(i => React.createElement('button', { key: i.id, onClick: () => buy('ring', i), className: "glass p-6 rounded-[35px] flex justify-between items-center" }, React.createElement('div', { className: "w-4 h-4 rounded-full border-2", style: { borderColor: i.color } }), i.name, `£${i.price}`))
                        )
                    ),

                    view === 'phone' && React.createElement('div', { className: "h-full flex flex-col" },
                        !phoneApp ? React.createElement('div', { className: "grid grid-cols-4 gap-8 p-10" },
                            ['App Store', 'ChowTok', 'Chow Chat', 'Chow AI'].map(app => React.createElement('button', { 
                                key: app, onClick: () => setPhoneApp(app.toLowerCase().replace(' ', '')), className: "flex flex-col items-center gap-2" 
                            }, React.createElement('div', { className: "w-16 h-16 bg-zinc-800 rounded-3xl" }), React.createElement('span', { className: "text-[10px] font-black" }, app)))
                        ) : React.createElement('div', { className: "glass flex-1 rounded-[50px] p-8" },
                            React.createElement('button', { onClick: () => setPhoneApp(null) }, React.createElement(Lucide.ChevronLeft)),
                            phoneApp === 'chowai' && React.createElement('div', { className: "mt-4" },
                                React.createElement('p', { className: "text-xs opacity-50 mb-2" }, "Neural Hub Ready"),
                                aiResponse && React.createElement('div', { className: "bg-blue-600/20 p-4 rounded-2xl mb-4 text-sm" }, aiResponse),
                                React.createElement('div', { className: "flex gap-2" },
                                    React.createElement('input', { className: "flex-1 glass p-4 rounded-2xl", placeholder: "Query...", value: aiQuery, onChange: e => setAiQuery(e.target.value) }),
                                    React.createElement('button', { onClick: handleAi, className: "bg-blue-600 p-4 rounded-2xl" }, React.createElement(Lucide.Send))
                                )
                            ),
                            phoneApp === 'chowtok' && React.createElement('div', { className: "flex flex-col items-center py-20" }, React.createElement('h3', { className: "text-4xl font-black" }, state.social.followers), React.createElement('p', null, "Followers"), React.createElement('button', { onClick: () => setState(p => ({...p, social: {...p.social, followers: p.social.followers + 100}})), className: "mt-8 bg-white text-black px-8 py-3 rounded-full font-black" }, "Post Clip"))
                        )
                    ),

                    view === 'profile' && React.createElement('div', { className: "flex flex-col items-center" },
                        React.createElement('div', { className: "glass p-10 rounded-[65px] w-full items-center flex flex-col" },
                            React.createElement(CharacterVisual, { state, scale: 1.6 }),
                            React.createElement('div', { className: "mt-12 text-center" }, React.createElement('h2', { className: "text-3xl font-black" }, state.name), React.createElement('p', { className: "opacity-40" }, `Citizen Age ${state.age}`))
                        )
                    )
                ),

                // Bottom Nav
                React.createElement('nav', { className: "fixed bottom-0 left-0 right-0 glass pb-12 pt-5 px-8 flex justify-between items-center" },
                    React.createElement(NavBtn, { icon: Lucide.GraduationCap, label: "Academy", active: view === 'academy', onClick: () => setView('academy') }),
                    React.createElement(NavBtn, { icon: Lucide.Home, label: "Home", active: view === 'home', onClick: () => setView('home') }),
                    state.assets.phone && React.createElement(NavBtn, { icon: Lucide.Smartphone, label: "iPhone", active: view === 'phone', onClick: () => { setView('phone'); setPhoneApp(null); } }),
                    React.createElement(NavBtn, { icon: Lucide.ShoppingCart, label: "Shop", active: view === 'shop', onClick: () => setView('shop') }),
                    React.createElement('button', { onClick: () => setView('profile'), className: "flex flex-col items-center gap-1 opacity-60" }, 
                        React.createElement('div', { className: "w-10 h-10 rounded-full border-2 overflow-hidden" }, React.createElement(CharacterVisual, { state, scale: 0.3 })),
                        React.createElement('span', { className: "text-[8px] font-black uppercase" }, "Profile")
                    )
                )
            );
        }

        const NavBtn = ({ icon: Icon, label, active, onClick }) => (
            React.createElement('button', { onClick, className: `flex flex-col items-center gap-1 transition-all ${active ? 'text-blue-500 scale-110' : 'opacity-40'}` },
                React.createElement(Icon, { size: 28, strokeWidth: active ? 3 : 2 }),
                React.createElement('span', { className: "text-[8px] font-black uppercase tracking-tighter" }, label)
            )
        );

        ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
    </script>
</body>
</html>


